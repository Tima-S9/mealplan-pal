<!-- My Pantry Tab Partial -->
<div class="d-flex justify-content-between align-items-center mb-4">
  <h4 class="fw-bold mb-0">Your Pantry Items</h4>
  <a href="#add-item-form" class="btn btn-success" data-bs-toggle="collapse" role="button" aria-expanded="false" aria-controls="add-item-form">
    <i class="bi bi-plus-circle"></i> Add Pantry Item
  </a>
</div>
<div class="collapse mb-4" id="add-item-form">
  {% include 'pantry/pantry_form.html' %}
</div>
<div class="row g-4">
  {% for item in items %}
    <div class="col-12 col-md-6 col-lg-4">
      <div class="card h-100 shadow-lg border-0">
        {% if item.ingredient.image_url %}
          <img src="{{ item.ingredient.image_url }}" class="card-img-top" alt="{{ item.ingredient.name }}">
        {% else %}
          <img src="https://via.placeholder.com/150?text=No+Image" class="card-img-top" alt="No image">
        {% endif %}
        <div class="card-body d-flex flex-column">
          <h5 class="card-title fw-bold mb-2">{{ item.ingredient.name }}</h5>
          <p class="card-text mb-2">
            <span class="badge bg-primary">{{ item.amount }} {{ item.ingredient.unit }}</span>
            {% if item.weight_in_grams %}
              <span class="badge bg-info text-dark ms-2">{{ item.weight_in_grams }} g</span>
            {% endif %}
          </p>
          <div class="mt-auto d-flex gap-2">
            <a href="{% url 'pantry_dashboard' %}?edit={{ item.pk }}" class="btn btn-warning flex-fill" title="Edit"><i class="bi bi-pencil-square"></i></a>
            <a href="{% url 'pantry_delete' item.pk %}" class="btn btn-danger flex-fill" title="Delete"><i class="bi bi-trash"></i></a>
          </div>
        </div>
      </div>
    </div>
  {% empty %}
    <div class="col-12">
      <div class="alert alert-info">No pantry items found.</div>
    </div>
  {% endfor %}
</div>
<div class="d-flex justify-content-end mt-4">
  <a href="#suggestions" class="btn btn-primary" id="view-suggestions-link">
    <i class="bi bi-lightbulb"></i> View Recipe Suggestions
  </a>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var link = document.getElementById('view-suggestions-link');
    if (link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        var tabTrigger = document.querySelector('button[data-bs-target="#suggestions"]');
        if (tabTrigger) {
          var tab = new bootstrap.Tab(tabTrigger);
          tab.show();
        }
        document.getElementById('suggestions').scrollIntoView({behavior: 'smooth'});
      });
    }
  });
</script>
<!-- End My Pantry Tab Partial -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
